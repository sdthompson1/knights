<!DOCTYPE html>
<html lang="en">
<head>
<title>kts.Anim</title>
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<div class="wrap">
<div class="header"><ul>
<li><a href="https://www.knightsgame.org.uk/">Home</a></li>
<li><a href="https://www.knightsgame.org.uk/screenshots">Screenshots</a></li>
<li><a href="https://www.knightsgame.org.uk/manual/index.html">Manual</a></li>
<li><a href="https://www.knightsgame.org.uk/download">Download</a></li>
<li><a href="https://www.knightsgame.org.uk/forum">Forum</a></li>
<li><a href="https://www.knightsgame.org.uk/blog">Blog</a></li>
<li><a href="https://www.knightsgame.org.uk/server_list.php">Server List</a></li>
<li><a href="../lua.html">Lua Docs</a></li>
<li><a href="https://www.knightsgame.org.uk/links">Links</a></li>
</ul></div>
<h1>kts.Anim</h1>
<h2>Name</h2>
<p>kts.Anim &ndash; create a new Anim </p>
<h2>Synopsis</h2>
<p><code>result = kts.Anim(anim_table)</code> </p>
<h2>Description</h2>
<p>An Anim is a collection of <a href="Graphic.html">Graphics</a> that represents the complete set of animation frames for a single creature (e.g. a knight, zombie or vampire bat) or for a flying projectile (e.g. an axe). </p>
<p>The <code>anim_table</code> parameter must be an array of either 4, 12, 16 or 32 Graphics. Each Graphic represents one frame of animation. </p>
<p>The best way to understand which graphics must be given (and in which order) is to look at <a href="https://github.com/sdthompson1/knights/blob/main/knights_data/server/classic/anims.lua">anims.lua</a> to see how the existing animations for knights, vampire bats, zombies and flying projectiles (axes, bolts and daggers) are created. </p>
<p>As well as the list of Graphics, the <code>anim_table</code> can also include <code>bat=true</code> if the animation is for a vampire bat (this is used for the "flapping wings" effect of the bats). </p>
<h2>Return Value</h2>
<p>The new Anim is returned. </p>
<h2>Errors</h2>
<p>An error results if the <code>anim_table</code> is not in the expected format, or does not contain the correct number of elements. </p>
<h2>Notes</h2>
<p>The animation frames do not include the weapons carried by the creature (such as swords or hammers). These are instead set up as "overlays", i.e. additional graphics which are superimposed on top of the anim frames given here. See <a href="Overlay.html">kts.Overlay</a> for more details. </p>
<p>Note also that it is possible to store custom properties on the Anim userdata objects. For example, if <code>a</code> is an Anim userdata, you can write to fields like <code>a.my_custom_field</code> and read the same value back again later. This might be useful for some special purposes. </p>
<h2>Bugs</h2>
<p>The documentation for this function could be better. </p>
<p>Anims should also ideally be more flexible &ndash; right now, the number of frames of animation (and their meaning) is hard coded for particular use cases (e.g. knights have 32 frames of animation, zombies 16, and so on) &ndash; but it would be better if the Lua code could create Anims with an arbitrary number of frames, and control what those frames are used for and when/how they are displayed. </p>
<h2>See Also</h2>
<p><a href="Graphic.html">kts.Graphic</a> </p>
<p><a href="Overlay.html">kts.Overlay</a> </p>
<div class="footer3"></div>
</div></body>
</html>
