<!DOCTYPE html>
<html lang="en">
<head>
<title>kts.Quickness</title>
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<div class="wrap">
<div class="header"><ul>
<li><a href="https://www.knightsgame.org.uk/">Home</a></li>
<li><a href="https://www.knightsgame.org.uk/screenshots">Screenshots</a></li>
<li><a href="https://www.knightsgame.org.uk/manual/index.html">Manual</a></li>
<li><a href="https://www.knightsgame.org.uk/download">Download</a></li>
<li><a href="https://www.knightsgame.org.uk/forum">Forum</a></li>
<li><a href="https://www.knightsgame.org.uk/blog">Blog</a></li>
<li><a href="https://www.knightsgame.org.uk/server_list.php">Server List</a></li>
<li><a href="../lua.html">Lua Docs</a></li>
<li><a href="https://www.knightsgame.org.uk/links">Links</a></li>
</ul></div>
<h1>kts.Quickness</h1>
<h2>Name</h2>
<p>kts.Quickness &ndash; give the current actor the Quickness effect </p>
<h2>Synopsis</h2>
<p><code>kts.Quickness(duration, message)</code> </p>
<h2>Description</h2>
<p>If the current actor (as given by <code>cxt.actor</code>) is a knight, then that knight gains the Quickness magical effect, for the next <code>duration</code> milliseconds. The string <code>message</code> will also flash on screen above the knight a number of times. </p>
<p>If the knight already has a different incompatible magic effect (such as Super or Regeneration) then the other effect is cancelled in favour of Quickness. </p>
<p>If the knight already has Quickness in effect, then the existing Quickness timer is cancelled and replaced with the new one. </p>
<p>If the current actor is not a knight then nothing happens. </p>
<h2>Return Value</h2>
<p>None. </p>
<h2>Notes</h2>
<p>Quickness makes knights move and act faster. This affects movement, attacks, and also certain other actions (e.g. using lock picks or reloading crossbows). The speedup ratio is given by the value of <code>quickness_factor</code> in the <a href="MISC_CONFIG.html">MISC_CONFIG</a> table, divided by 100 (e.g. the default <code>quickness_factor</code> of 150 means that actions with Quickness are usually 1.5 times as fast as without Quickness). </p>
<p>The duration (first argument to <code>kts.Quickness</code>) is usually set to some kind of random number, to provide some unpredictability for the players. The duration value is not made visible to the player. </p>
<h2>Examples</h2>
<p>To give a knight Quickness for a random number of seconds between 1 and 60: </p>
<p><code>kts.Quickness(kts.RandomRange(1, 60) * 1000, "Quickness")</code> </p>
<p>The actual game code uses a slightly more complicated method for determining the duration of potion effects; details can be found in <a href="https://github.com/sdthompson1/knights/blob/main/knights_data/server/classic/magic.lua">magic.lua</a>. </p>
<h2>See Also</h2>
<p><a href="cxt.html">The cxt table</a> </p>
<p><a href="Invisibility.html">kts.Invisibility</a> </p>
<p><a href="Paralyzation.html">kts.Paralyzation</a> </p>
<p><a href="PoisonImmunity.html">kts.PoisonImmunity</a> </p>
<p><a href="Regeneration.html">kts.Regeneration</a> </p>
<p><a href="Strength.html">kts.Strength</a> </p>
<p><a href="Super.html">kts.Super</a> </p>
<div class="footer3"></div>
</div></body>
</html>
