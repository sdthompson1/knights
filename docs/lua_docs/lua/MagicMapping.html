<!DOCTYPE html>
<html lang="en">
<head>
<title>kts.MagicMapping</title>
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<div class="wrap">
<div class="header"><ul>
<li><a href="https://www.knightsgame.org.uk/">Home</a></li>
<li><a href="https://www.knightsgame.org.uk/screenshots">Screenshots</a></li>
<li><a href="https://www.knightsgame.org.uk/manual/index.html">Manual</a></li>
<li><a href="https://www.knightsgame.org.uk/download">Download</a></li>
<li><a href="https://www.knightsgame.org.uk/forum">Forum</a></li>
<li><a href="https://www.knightsgame.org.uk/blog">Blog</a></li>
<li><a href="https://www.knightsgame.org.uk/server_list.php">Server List</a></li>
<li><a href="../lua.html">Lua Docs</a></li>
<li><a href="https://www.knightsgame.org.uk/links">Links</a></li>
</ul></div>
<h1>kts.MagicMapping</h1>
<h2>Name</h2>
<p>kts.MagicMapping &ndash; give current actor a full map of the dungeon </p>
<h2>Synopsis</h2>
<p><code>kts.MagicMapping()</code> </p>
<h2>Description</h2>
<p>If the current actor (as given by <code>cxt.actor</code>) is a knight, then the corresponding player receives a full map of the dungeon. In other words, the location of all "wall" squares in the dungeon will now be visible on their mini-map. The "interiors" of rooms (i.e. the floor squares) are not automatically mapped; this allows the player to distinguish between rooms they have actually visited, and rooms they have only discovered via the magic mapping effect. </p>
<p>For the purposes of mapping, a square is defined as a "wall" if any of the tiles on that square have all of the following properties: </p>
<ul>
<li>The access level of the tile is <i>not</i> "clear" at either the "walking" or the "flying" height. (In other words, the tile is impassable to both walking and flying creatures.) </li>
<li>The access level of the tile is "blocked" at the "missile" height. (In other words, the tile is impassable to missiles.) </li>
<li>The tile is indestructible. </li>
<li>The tile is not a door tile. </li>
</ul>
<h2>Return Value</h2>
<p>None. </p>
<h2>Examples</h2>
<p>This is one of the possible scroll effects; see <a href="https://github.com/sdthompson1/knights/blob/aa1756dbc3e77f5285b06837c6fb7b40551d1836/knights_data/server/classic/magic.lua#L235">magic.lua</a>. </p>
<h2>See Also</h2>
<p><a href="cxt.html">The cxt table</a> </p>
<p><a href="WipeMap.html">kts.WipeMap</a> </p>
<div class="footer3"></div>
</div></body>
</html>
